{{- $p := .Payload -}}
{{- $status := $p.Status | default "unknown" -}}
{{ if eq $status "firing" }}
### üî• Alert Firing ({{ .FiringCount }})
{{ else if eq $status "resolved" }}
### ‚úÖ Alert Resolved ({{ .ResolvedCount }})
{{ else }}
### ‚ÑπÔ∏è Alert Notification ({{ len $p.Alerts }})
{{ end }}

{{ if eq (len $p.Alerts) 0 }}
{{- $severity := default (default "unknown" (index $p.CommonLabels "level")) (index $p.CommonLabels "severity") -}}
{{- $description := default "-" (index $p.CommonAnnotations "description") -}}
{{- $summary := default "-" (index $p.CommonAnnotations "summary") -}}
- **Severity**: `{{ $severity }}`
- **Description**: {{ $description }}
- **Summary**: {{ $summary }}
{{ else }}
{{- range $i, $a := $p.Alerts }}
{{- if gt $i 0 }}

---

{{- end }}
{{- $severity := default (default (default (default "unknown" (index $p.CommonLabels "level")) (index $a.Labels "level")) (index $p.CommonLabels "severity")) (index $a.Labels "severity") -}}
{{- $description := default (default "-" (index $p.CommonAnnotations "description")) (index $a.Annotations "description") -}}
{{- $summary := default (default "-" (index $p.CommonAnnotations "summary")) (index $a.Annotations "summary") -}}
- **Severity**: `{{ $severity }}`
- **Description**: {{ $description }}
- **Summary**: {{ $summary }}
{{- end }}
{{ end }}
