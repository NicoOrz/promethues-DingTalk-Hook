{{- $p := .Payload -}}
{{- $status := $p.Status | default "unknown" -}}
{{ if eq $status "firing" }}
### ğŸ”¥ å‘Šè­¦è§¦å‘ï¼ˆ{{ .FiringCount }}ï¼‰
{{ else if eq $status "resolved" }}
### âœ… å‘Šè­¦æ¢å¤ï¼ˆ{{ .ResolvedCount }}ï¼‰
{{ else }}
### â„¹ï¸ å‘Šè­¦é€šçŸ¥ï¼ˆ{{ len $p.Alerts }}ï¼‰
{{ end }}

{{- $n := len $p.Alerts -}}
{{- if eq $n 0 }}
{{- $severity := default (default "unknown" (index $p.CommonLabels "level")) (index $p.CommonLabels "severity") -}}
{{- $description := default "-" (index $p.CommonAnnotations "description") -}}
{{- $summary := default "-" (index $p.CommonAnnotations "summary") -}}
- **ä¸¥é‡åº¦**: `{{ $severity }}`
- **æè¿°**: {{ $description }}
- **æ‘˜è¦**: {{ $summary }}
{{- else }}
{{- $a0 := index $p.Alerts 0 -}}
{{- $severity := default (default (default (default "unknown" (index $p.CommonLabels "level")) (index $a0.Labels "level")) (index $p.CommonLabels "severity")) (index $a0.Labels "severity") -}}
{{- $description := default (default "-" (index $p.CommonAnnotations "description")) (index $a0.Annotations "description") -}}
{{- $summary := default (default "-" (index $p.CommonAnnotations "summary")) (index $a0.Annotations "summary") -}}
- **ä¸¥é‡åº¦**: `{{ $severity }}`
- **æè¿°**: {{ $description }}
- **æ‘˜è¦**: {{ $summary }}
{{- end }}

{{- if gt $n 1 }}
{{- range $i, $a := $p.Alerts }}
{{- if gt $i 0 }}

---

{{- end }}
{{- $severity := default (default (default (default "unknown" (index $p.CommonLabels "level")) (index $a.Labels "level")) (index $p.CommonLabels "severity")) (index $a.Labels "severity") -}}
{{- $description := default (default "-" (index $p.CommonAnnotations "description")) (index $a.Annotations "description") -}}
{{- $summary := default (default "-" (index $p.CommonAnnotations "summary")) (index $a.Annotations "summary") -}}
- **ä¸¥é‡åº¦**: `{{ $severity }}`
- **æè¿°**: {{ $description }}
- **æ‘˜è¦**: {{ $summary }}
{{- end }}
{{- end }}
